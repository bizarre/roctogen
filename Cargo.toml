[package]
name = "roctogen"
version = "0.1.0"
authors = [ "Roctogen contributors" ]
description = "Github API and models generated from the official swagger OpenAPI specification"
license = "Apache-2.0"
edition = "2018"

[lib]
crate-type = ["cdylib", "rlib"]

# [features]
# default = ["isahc"]

[dependencies]
base64 = "0.13"
chrono = { version = "0.4", features = ["serde"] }
http = "0.2.3"
serde = "1.0"
serde_derive = "1.0"
serde_json = {version = "1.0"}
serde_urlencoded = { version = "*" }
thiserror = "1"

# isahc 
isahc = { version = "1.1.0", optional = true, features = ["json"] }

# wasm 
[target.'cfg(target_arch = "wasm32")'.dependencies]
cfg-if = { version = "0.1.2" }
wasm-bindgen = { version = "=0.2.71", features = ["serde-serialize"] }
wasm-bindgen-futures = { version = "0.4" }
console_error_panic_hook = { version = "0.1.1" }
wee_alloc = { version = "0.4.2" }
js-sys = { version = "0.3" }

[target.'cfg(target_arch = "wasm32")'.dependencies.web-sys]
version = "0.3"
target = "wasm32"
features = [
  'Headers',
  'Request',
  'RequestInit',
  'Response',
  'ServiceWorkerGlobalScope',
  'Window',
  'console',
]

[target.'cfg(target_arch = "wasm32")'.dev-dependencies]
wasm-bindgen-test = "0.3.0"

[package.metadata.docs.rs]
features = ["isahc"]
